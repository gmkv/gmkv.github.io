$backgroundColor: #282C34;
$textColor: #e0e0e0;
$linkColor: darken($textColor, 10%);
$nicePurple: #aea7ff;
$cardBackground: #3f4552;

$fontStackText: LiberationSansRegular, serif, Arial, Helvetica, sans-serif;
$fontStackTitle: LiberationSansBold, Arial, Helvetica, sans-serif;

@mixin crossBrowser($property, $value) {
    -webkit-#{$property}: $value;
    -moz-#{$property}: $value;
    -ms-#{$property}: $value;
    #{$property}: $value;
}

@font-face {
    font-family: LiberationSansBold;
    src: url('fonts/LiberationSans-Bold.ttf');
}

@font-face {
    font-family: LiberationSansRegular;
    src: url('fonts/LiberationSans-Regular.ttf');
}

/// Gives a card depth effect.
/// @param {Number} $depth - depth level (between 1 and 5)
/// @requires {function} top-shadow
/// @requires {function} bottom-shadow
@mixin card($depth) {
  @if $depth < 1 {
    box-shadow: none;
  } @else if $depth > 5 {
    @warn "Invalid $depth `#{$depth}` for mixin `card`.";
  } @else {
    box-shadow: bottom-shadow($depth), top-shadow($depth);  
  }
}

/// Computes a top-shadow for a card effect.
/// @param {Number} $depth - depth level
/// @return {List}
@function top-shadow($depth) {
  $primary-offset: nth(1.5 3 10 14 19, $depth) * 1px;
  $blur: nth(1.5 3 10 14 19, $depth) * 4px;
  $color: rgba(black, nth(.12 .16 .19 .25 .30, $depth));

  @return 0 $primary-offset $blur $color;
}

/// Computes a bottom-shadow for a card effect.
/// @param {Number} $depth - depth level
/// @return {List}
@function bottom-shadow($depth) {
  $primary-offset: nth(1.5 3 6 10 15, $depth) * 1px;
  $blur: nth(1 3 3 5 6, $depth) * 4px;
  $color: rgba($nicePurple, nth(.24 .23 .23 .22 .22, $depth));

  @return 0 $primary-offset $blur $color;
}

a {
    text-decoration: none;
    color: $linkColor;
    &:hover {
        color: $textColor;
    }
    &.active {
        color: $textColor;
    }
}

header {
    /* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#aea7ff+0,282c34+100 */
    background: linear-gradient(180deg, #aea7ff 0%, #282c34 100%);
    background: linear-gradient(180deg, #aea7ff 0%, #aea7ff 10%, #282c34 100%);
    nav {
        font-family: 'arial';
        font-size: 1.3rem;
        ul {
            max-width: 23rem;
            margin: 0 auto;
            padding: 1rem 0; // WIP - have to change the media queries to respond to the breakpoints
            list-style: none outside;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            justify-content: space-evenly;
            li {
                a {
                    font-family: $fontStackText;
                    display: inline-block;
                    background-color: $backgroundColor;
                    padding: 0.66rem 1rem;
                }
            }
        }
    }
    .greeting {
        padding: 2rem 0 4rem;
        margin: 0 auto;
        font-size: 1.33rem;
        max-width: 16rem;
        .hi {
            font-family: $fontStackTitle;
            line-height: 1.3;
            span {
                background-color: $backgroundColor;
                color: $textColor;
                display: inline;
                padding: 0.45rem;
                @include crossBrowser(box-decoration-break,
                clone);
            }
        }
    }
}

main {
    height: 100%;
    color: $textColor;
    background-color: $backgroundColor;
    padding-bottom: 2rem;
    .deck {
        margin: 0 auto;
        max-width: 900px;
        display: flex;
        flex-direction: row; // for desktop n tablet
        flex-direction: column;
        justify-content: space-between;
        justify-content: space-evenly;
    }
    .card {
        @include card(5);
        max-width: 100%;
        padding: 0.66rem;
        margin: 0 10px 20px 10px;
        background-color: $cardBackground;
        font-family: $fontStackText;
        text-align: justify;
    }
}

h2, h3 {
    margin-top: 0;
    padding: 10px 0;
    text-align: center;
    font-family: $fontStackTitle;
}

footer {
    text-align: center;
    background-color: $nicePurple;
    h3 {
        font-size: 1.55rem;
    }
    p {
        margin-bottom: 0;
        padding-bottom: 10px;
        font-family: $fontStackText;
        font-size: 1.33rem;
    }
    a {
        color: $backgroundColor;
        text-decoration: underline;
    }
}

@media screen and (min-width: 480px) { /* BIG phone size */
    header {
        .greeting {
            padding: 2rem 0 5rem;
            margin: 0 15%;
            font-size: 1.55rem;
            min-width: 18rem;
        }
    }
    main {
        .deck {
            flex-direction: column;
            
        }
        .card {
            // width: 80%;
        }
    }
}

@media screen and (min-width: 640px) { /* tablet size */
    header {
        .greeting {
            padding: 1rem 0 6rem;
            margin: 0 20%;
            font-size: 1.75rem;
            min-width: 20rem;
        }
    }
}

@media screen and (min-width: 900px) { /* desktop size */
    header {
        .greeting {
            padding: 2% 0 8rem;
            margin: 0 30%;
            font-size: 1.85rem;
            min-width: 39rem;
            max-width: 43rem;
        }
    }
    main {
        .deck {
            flex-direction: row;
        }
        .card {
            width: 29%;
        }
    }
}